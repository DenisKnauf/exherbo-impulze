# Copyright 2008,2009 Daniel Mierswa <impulze@impulze.org>
# Distributed under the terms of the GNU General Public License v2

require autotools [ supported_autoconf=[ 2.5 ] supported_automake=[ 1.10 ] ]

SUMMARY="A library to read zip files."
DESCRIPTION="The implementation is based only on the (free) subset of
    compression with the zlib algorithm."
HOMEPAGE="http://${PN}.sourceforge.net"
DOWNLOADS="mirror://sourceforge/${PN}/${PNV}.tar.bz2"

LICENCES="|| ( LGPL-2 MPL-1.1 )"
SLOT="0"
PLATFORMS="~amd64"
MYOPTIONS="python sdl xmlto zlib"

DEPENDENCIES="
    build:
        python? ( dev-lang/python )
        xmlto? ( app-text/xmlto )
    build+run:
        sdl? ( media-libs/SDL )
        zlib? ( sys-libs/zlib )
"

AT_M4DIR="m4"

DEFAULT_SRC_PREPARE_PATCHES+=( "${FILES}/${PNV}-automagic-deps.patch" )
DEFAULT_SRC_CONFIGURE_OPTION_WITHS+=( zlib python xmlto )
DEFAULT_SRC_CONFIGURE_OPTION_ENABLES+=( sdl )

